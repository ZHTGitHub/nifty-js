!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).nifty={})}(this,(function(e){"use strict";const t=e=>{const t=e?new Date(e):new Date,n=t.getFullYear(),o=t.getMonth(),r=t.getDay(),i=t.getDate(),s=t.getHours(),c=t.getMinutes(),a=t.getSeconds(),l=t.getMilliseconds(),u=t.getTime(),f=t;return{year:n,month:o,day:r,date:i,hours:s,minutes:c,seconds:a,milliseconds:l,time:u,normalMonth:o+1,am00Time:new Date(f.setHours(0,0,0,0)).getTime(),pm24Time:new Date(f.setHours(0,0,0,0)+864e5-1).getTime()}},n=function(e){switch(Object.prototype.toString.call(e)){case"[object Boolean]":return"boolean";case"[object Number]":return isNaN(e)?"NaN":"number";case"[object String]":return"string";case"[object Array]":return"array";case"[object Function]":return"function";case"[object Object]":return"object";case"[object Null]":return"null";case"[object Undefined]":return"undefined";case"[object Symbol]":return"symbol";default:return e}},o=function(e){return e instanceof Array},r=function(e){return"boolean"===n(e)},i=function(e){return"function"===n(e)},s=function(e){return"null"===n(e)},c=function(e){return"number"===n(e)},a=function(e){return"object"===n(e)},l=function(e){return"string"===n(e)},u=function(e){return"symbol"===n(e)},f=function(e){return"undefined"===n(e)},d={set(e,t){if(a(e)){const t={...e};for(let e in t)window.localStorage.setItem(e,JSON.stringify(t[e]))}else window.localStorage.setItem(e,JSON.stringify(t))},get(e){if(o(e)){const t=[...e],n={};return t.map((e=>{n[e]=JSON.parse(window.localStorage.getItem(e))})),n}return JSON.parse(window.localStorage.getItem(e))},delete(e){if(o(e)){[...e].map((e=>{window.localStorage.removeItem(e)}))}else window.localStorage.removeItem(e)},clear(){window.localStorage.clear()}},g={set(e,t){if(a(e)){const t={...e};for(let e in t)window.sessionStorage.setItem(e,JSON.stringify(t[e]))}else window.sessionStorage.setItem(e,JSON.stringify(t))},get(e){if(o(e)){const t=[...e],n={};return t.map((e=>{n[e]=JSON.parse(window.sessionStorage.getItem(e))})),n}return JSON.parse(window.sessionStorage.getItem(e))},delete(e){Array.isArray(e)?[...e].map((e=>{window.sessionStorage.removeItem(e)})):window.sessionStorage.removeItem(e)},clear(){window.sessionStorage.clear()}},m=function(e,t){if(!("object"==typeof e&&null!=e)||!("object"==typeof t&&null!=t))return e===t;if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(let n in e){if(!this.isEqual(e[n],t[n]))return!1}return!0},w=function(e){if(void 0===e||null==e||""===e||!1===e)return!1;if(e instanceof Array){if(0===e.length)return!1}else if("object"==typeof e){if(0===Object.keys(e).length)return!1}return!0},y=function(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.body.scrollLeft+document.documentElement.scrollLeft,y:document.body.scrollTop+document.documentElement.scrollTop}},p=function(){return window.innerWidth?{width:window.innerWidth,height:window.innerHeight}:"BackCompat"===document.compatMode?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},b=function(e){const t={};return e.replace(/^\?/,"").split("&").map((e=>{const n=e.split("="),o=n[0],r=n[1];t[o]=r})),t},h=e=>new Promise(((t,n)=>{const o=new FileReader;o.onload=function(n){const o=new Blob([n.target.result],{type:e.type}),r=(window.URL||window.webkitURL).createObjectURL(o);t(r)},o.readAsArrayBuffer(e),o.onerror=function(e){n(e)}})),S=e=>new Promise(((t,n)=>{const o=new FileReader;o.onload=function(e){t(e.target.result)},o.readAsDataURL(e),o.onerror=function(e){n(e)}})),j=(e,t)=>{let n=e.split(","),o=n[0].match(/:(.*?);/)[1],r=atob(n[1]),i=r.length,s=new Uint8Array(i);for(;i--;)s[i]=r.charCodeAt(i);return new File([s],t,{type:o})},O=(e,t="jpeg")=>new Promise(((n,o)=>{const r=new FileReader;r.onload=o=>{const{target:{result:r}}=o,i=new Image;i.onload=async()=>{const o=document.createElement("canvas");o.width=i.width,o.height=i.height;o.getContext("2d").drawImage(i,0,0,i.width,i.height);const r=o.toDataURL("image/"+t),s=e.name.replace(/([^\.]+)$/,t);n(j(r,s))},i.src=r},r.readAsDataURL(e),r.onerror=function(e){o(e)}})),A=(e,t=.2)=>new Promise(((n,o)=>{const r=new FileReader;r.onload=o=>{const{target:{result:r}}=o,i=new Image;i.onload=async()=>{const o=document.createElement("canvas");o.width=i.width,o.height=i.height;o.getContext("2d").drawImage(i,0,0,i.width,i.height);const r="jpeg",s=o.toDataURL("image/"+r,t),c=e.name.replace(/([^\.]+)$/,r);n(j(s,c))},i.src=r},r.readAsDataURL(e),r.onerror=function(e){o(e)}})),N=function(e){return Array.isArray(e)?e:e.replace(/\[/g,".").replace(/\]/g,"").split(".")},T=function(e,t,n){return"object"!=typeof e?n:N(t).reduce(((e,t)=>(e||{})[t]),e)||n},I=function(e,t,n){return"object"!=typeof e||N(t).reduce(((e,t,o,r)=>o===r.length-1?(e[t]=n,null):(t in e||(e[t]=/^[0-9]{1,}$/.test(r[o+1])?[]:{}),e[t])),e),e},v=["undefined","number","string","boolean","symbol"],D=["object","function"],F=function(e={}){if("object"!=typeof e||null==e)return e;const t=e instanceof Array?[]:{};for(let n in e)e.hasOwnProperty(n)&&(t[n]=F(e[n]));return t},R=function(e,t,n=!1){if(o(t)){const[n,o]=t;for(let t of e)if(t[n]===o)return t}else if(a(t)){const n=Object.entries(t);for(let t of e){if(n.every((e=>{const[n,o]=e;return t[n]===o})))return t}}else for(let n of e)if("object"==typeof n){for(let e in n)if(n[e]===t)return n}else if(n===t)return n},U=function(e,t){if(o(t)){const[n,o]=t;for(let t in e)if(e[t][n]===o)return+t}else if(a(t)){const n=Object.entries(t);for(let t in e){if(n.every((n=>{const[o,r]=n;return e[t][o]===r})))return+t}}else for(let n in e){const o=e[n];if("object"==typeof o){for(let e in o)if(o[e]===t)return+n}else if(o===t)return+n}return-1},x=function(e=[],t=!1){if(!e.some((e=>e instanceof Array)))return e;const n=Array.prototype.concat.apply([],e);return x(n)},B=function(e=[],t=!1){if(!Array.isArray(e))return e;const n=[];for(let t of e)if(~v.indexOf(typeof t))n.includes(t)||n.push(t);else if(~D.indexOf(typeof t))if(n.length){n.some((e=>JSON.stringify(e)===JSON.stringify(t)))||n.push(t)}else n.push(t);return n};var J={date:t,localStorage:d,sessionStorage:g,isEqual:m,isYummy:w,getScrollOffset:y,getViewportSize:p,queryToObject:b,fileToBlob:h,fileToBase64:S,base64ToFile:j,formatConvert:O,compressFile:A,get:T,set:I,deepClone:F,find:R,findIndex:U,flatArray:x,removeDuplicate:B,getType:n,isArray:o,isBoolean:r,isFunction:i,isNull:s,isNumber:c,isObject:a,isString:l,isSymbol:u,isUndefined:f};e.base64ToFile=j,e.compressFile=A,e.date=t,e.deepClone=F,e.default=J,e.fileToBase64=S,e.fileToBlob=h,e.find=R,e.findIndex=U,e.flatArray=x,e.formatConvert=O,e.get=T,e.getScrollOffset=y,e.getType=n,e.getViewportSize=p,e.isArray=o,e.isBoolean=r,e.isEqual=m,e.isFunction=i,e.isNull=s,e.isNumber=c,e.isObject=a,e.isString=l,e.isSymbol=u,e.isUndefined=f,e.isYummy=w,e.localStorage=d,e.queryToObject=b,e.removeDuplicate=B,e.sessionStorage=g,e.set=I,Object.defineProperty(e,"__esModule",{value:!0})}));
