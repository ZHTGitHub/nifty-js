!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["nifty-util"]={})}(this,(function(e){"use strict";const t=e=>{const t=e?new Date(e):new Date,n=t.getFullYear(),r=t.getMonth(),o=t.getDay(),i=t.getDate(),s=t.getHours(),c=t.getMinutes(),u=t.getSeconds(),l=t.getMilliseconds(),f=t.getTime(),a=t;return{year:n,month:r,day:o,date:i,hours:s,minutes:c,seconds:u,milliseconds:l,time:f,normalMonth:r+1,am00Time:new Date(a.setHours(0,0,0,0)).getTime(),pm24Time:new Date(a.setHours(0,0,0,0)+864e5-1).getTime()}},n=function(e,t){if(!("object"==typeof e&&null!=e)||!("object"==typeof t&&null!=t))return e===t;if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let n in e){if(!this.isEqual(e[n],t[n]))return!1}return!0},r=function(e){if(void 0===e||null==e||""===e||!1===e)return!1;if(e instanceof Array){if(0===e.length)return!1}else if("object"==typeof e){if(0===Object.keys(e).length)return!1}return!0},o=function(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.body.scrollLeft+document.documentElement.scrollLeft,y:document.body.scrollTop+document.documentElement.scrollTop}},i=function(){return window.innerWidth?{width:window.innerWidth,height:window.innerHeight}:"BackCompat"===document.compatMode?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},s=function(e){const t={};return e.replace(/^\?/,"").split("&").map((e=>{const n=e.split("="),r=n[0],o=n[1];t[r]=o})),t},c=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=function(n){const r=new Blob([n.target.result],{type:e.type}),o=(window.URL||window.webkitURL).createObjectURL(r);t(o)},r.readAsArrayBuffer(e),r.onerror=function(e){n(e)}})),u=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=function(e){t(e.target.result)},r.readAsDataURL(e),r.onerror=function(e){n(e)}})),l=(e,t)=>{let n=e.split(","),r=n[0].match(/:(.*?);/)[1],o=atob(n[1]),i=o.length,s=new Uint8Array(i);for(;i--;)s[i]=o.charCodeAt(i);return new File([s],t,{type:r})},f=(e,t="jpeg")=>new Promise(((n,r)=>{const o=new FileReader;o.onload=r=>{const{target:{result:o}}=r,i=new Image;i.onload=async()=>{const r=document.createElement("canvas");r.width=i.width,r.height=i.height;r.getContext("2d").drawImage(i,0,0,i.width,i.height);const o=r.toDataURL("image/"+t),s=e.name.replace(/([^\.]+)$/,t);n(l(o,s))},i.src=o},o.readAsDataURL(e),o.onerror=function(e){r(e)}})),a=(e,t=.2)=>new Promise(((n,r)=>{const o=new FileReader;o.onload=r=>{const{target:{result:o}}=r,i=new Image;i.onload=async()=>{const r=document.createElement("canvas");r.width=i.width,r.height=i.height;r.getContext("2d").drawImage(i,0,0,i.width,i.height);const o="jpeg",s=r.toDataURL("image/"+o,t),c=e.name.replace(/([^\.]+)$/,o);n(l(s,c))},i.src=o},o.readAsDataURL(e),o.onerror=function(e){r(e)}})),d=function(e,t,n){let r=Array.isArray(t)?t:t.split("."),o=e;for(let e=0;e<r.length;e++)e===r.length-1?o[r[e]]=n:(void 0===o[r[e]]&&(o[r[e]]={}),o=o[r[e]]);return e},m=function(e,t,n){let r=Array.isArray(t)?t:t.split("."),o=e;for(let e=0;e<r.length;e++){if(void 0===o[r[e]])return n;o=o[r[e]]}return o},y=function(e){switch(Object.prototype.toString.call(e)){case"[object Boolean]":return"boolean";case"[object Number]":return isNaN(e)?"NaN":"number";case"[object String]":return"string";case"[object Array]":return"array";case"[object Function]":return"function";case"[object Object]":return"object";case"[object Null]":return"null";case"[object Undefined]":return"undefined";case"[object Symbol]":return"symbol";default:return e}},g=function(e){return e instanceof Array},b=function(e){return"boolean"===y(e)},h=function(e){return"function"===y(e)},p=function(e){return"null"===y(e)},w=function(e){return"number"===y(e)},j=function(e){return"object"===y(e)},A=function(e){return"string"===y(e)},O=function(e){return"symbol"===y(e)},T=function(e){return"undefined"===y(e)},S=["undefined","number","string","boolean","symbol"],v=["object","function"],D=function(e={}){if("object"!=typeof e||null==e)return e;const t=e instanceof Array?[]:{};for(let n in e)e.hasOwnProperty(n)&&(t[n]=D(e[n]));return t},F=function(e,t){if(g(t)){const[n,r]=t;for(let t of e)if(t[n]===r)return t}else if(j(t)){const n=Object.entries(t);for(let t of e){if(n.every((e=>{const[n,r]=e;return t[n]===r})))return t}}else for(let n of e)if("object"==typeof n){for(let e in n)if(n[e]===t)return n}else if(n===t)return n},N=function(e,t){if(g(t)){const[n,r]=t;for(let t in e)if(e[t][n]===r)return+t}else if(j(t)){const n=Object.entries(t);for(let t in e){if(n.every((n=>{const[r,o]=n;return e[t][r]===o})))return+t}}else for(let n in e){const r=e[n];if("object"==typeof r){for(let e in r)if(r[e]===t)return+n}else if(r===t)return+n}return-1},R=function(e=[]){if(!e.some((e=>e instanceof Array)))return e;const t=Array.prototype.concat.apply([],e);return R(t)},U=function(e=[]){if(!Array.isArray(e))return e;const t=[];for(let n of e)if(~S.indexOf(typeof n))t.includes(n)||t.push(n);else if(~v.indexOf(typeof n))if(t.length){t.some((e=>JSON.stringify(e)===JSON.stringify(n)))||t.push(n)}else t.push(n);return t};var x={date:t,isEqual:n,isYummy:r,getScrollOffset:o,getViewportSize:i,queryToObject:s,fileToBlob:c,fileToBase64:u,base64ToFile:l,formatConvert:f,compressFile:a,get:m,set:d,deepClone:D,find:F,findIndex:N,flatArray:R,removeDuplicate:U,getType:y,isArray:g,isBoolean:b,isFunction:h,isNull:p,isNumber:w,isObject:j,isString:A,isSymbol:O,isUndefined:T};e.base64ToFile=l,e.compressFile=a,e.date=t,e.deepClone=D,e.default=x,e.fileToBase64=u,e.fileToBlob=c,e.find=F,e.findIndex=N,e.flatArray=R,e.formatConvert=f,e.get=m,e.getScrollOffset=o,e.getType=y,e.getViewportSize=i,e.isArray=g,e.isBoolean=b,e.isEqual=n,e.isFunction=h,e.isNull=p,e.isNumber=w,e.isObject=j,e.isString=A,e.isSymbol=O,e.isUndefined=T,e.isYummy=r,e.queryToObject=s,e.removeDuplicate=U,e.set=d,Object.defineProperty(e,"__esModule",{value:!0})}));
